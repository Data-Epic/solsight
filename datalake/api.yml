
ingest-block:
  handler: datalake/stream_block.run
  timeout: 360
  environment:
    BUCKET_NAME: ${self:custom.bucket}-solana-io
  iamRoleStatementsName: stream-block-iam-role #optional custom role name setting instead of the default generated one
  iamRoleStatements:
  - Effect: Allow
    Action:
      - firehose:DeleteDeliveryStream
      - firehose:PutRecord
      - firehose:PutRecordBatch
      - firehose:UpdateDestination
    Resource: '*'

ingest-transaction:
  handler: datalake/stream_transactions.run
  timeout: 360
  environment:
    BUCKET_NAME: ${self:custom.bucket}-solana-io
  iamRoleStatementsName: stream-transactions-iam-role #optional custom role name setting instead of the default generated one
  iamRoleStatements:
  - Effect: Allow
    Action:
      - firehose:DeleteDeliveryStream
      - firehose:PutRecord
      - firehose:PutRecordBatch
      - firehose:UpdateDestination
    Resource: '*'
