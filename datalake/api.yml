
ingest:
  handler: datalake/api.run
  timeout: 360
  environment:
    BUCKET_NAME: ${self:custom.bucket}-solana-io
  iamRoleStatementsName: hello-iam-role #optional custom role name setting instead of the default generated one
  iamRoleStatements:
  - Effect: Allow
    Action:
      - firehose:DeleteDeliveryStream
      - firehose:PutRecord
      - firehose:PutRecordBatch
      - firehose:UpdateDestination
    Resource: '*'
  
# push-test:
#   handler: datalake/test_firehose.run
#   timeout: 360
#   environment:
#     BUCKET_NAME: ${self:custom.bucket}-solana-io